/* Nelson AI Assistant - Animated Edition */

/* Welcome Screen */
.nelson-welcome {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(135deg, rgba(102,126,234,0.95) 0%,rgba(118,75,162,0.95) 100%);
    backdrop-filter: blur(10px);
    z-index: 999999;
    display: flex; align-items: center; justify-content: center;
    animation: fadeIn 0.5s ease;
}
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
.nelson-welcome-container { position: relative; max-width: 600px; width: 90%; text-align: center; color: white; }
.nelson-close-btn {
    position: absolute; top: -50px; right: 0; width: 50px; height: 50px; border-radius: 50%;
    background: rgba(255,255,255,0.3); border: 3px solid white; color: white;
    font-size: 32px; cursor: pointer; transition: all .3s; display: flex; align-items: center; justify-content: center; line-height: 1; font-weight: 300;
}
.nelson-close-btn:hover { background: rgba(255,255,255,0.5); transform: scale(1.1); }
@keyframes blink {0%,50%,100%{opacity:1;}25%,75%{opacity:.3;}}
.blink-later { animation: blink 1s ease-in-out 5; animation-delay:7s; }
/* Robot */
.nelson-robot { display: inline-block; animation: robotAppear .8s ease-out; }
@keyframes robotAppear { from {transform:scale(0)rotate(-180deg);opacity:0;} to{transform:scale(1)rotate(0);opacity:1;} }
.nelson-robot-head {
    width: 100px; height: 100px;
    background: linear-gradient(135deg,#4CAF50 0%,#45a049 100%);
    border-radius: 20px; position: relative; margin: 0 auto 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    animation: headFloat 3s ease-in-out infinite;
}
@keyframes headFloat { 0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);} }
.nelson-robot-antenna { position: absolute; top: -15px; left: 50%; transform:translateX(-50%); width: 3px; height: 15px; background: #fff; }
.nelson-robot-antenna::after { content:''; position:absolute; top:-6px; left:50%; transform:translateX(-50%); width:8px; height:8px; background:#ff4444; border-radius:50%; animation:antennaBlink 2s infinite; }
@keyframes antennaBlink {0%,90%,100%{opacity:1;}95%{opacity:0;}}
.nelson-robot-eyes { display: flex; justify-content: center; gap:20px; margin-top: 25px; }
.nelson-robot-eye { width:15px; height:15px; background:white; border-radius:50%; animation: eyeBlink 4s infinite; }
@keyframes eyeBlink {0%,96%,100%{transform:scaleY(1);}98%{transform:scaleY(0.1);}}
.nelson-robot-mouth { width:40px; height:20px; border: 3px solid white; border-top: none; border-radius: 0 0 40px 40px; margin: 15px auto 0; }
.nelson-robot-body { width:80px; height:60px; background: linear-gradient(135deg,#4caf50 0%,#45a049 100%); border-radius:10px; margin:0 auto; box-shadow:0 5px 20px rgba(0,0,0,.2);}
.nelson-robot-name { font-size:24px; font-weight:600; margin:20px 0; animation:nameAppear 1s ease-out .5s both; }
@keyframes nameAppear { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);} }
/* Progressive Speech Bubbles */
.nelson-speech-bubbles { margin: 30px 0; }
.nelson-bubble { background:white; color:#333; padding:20px 25px; border-radius:20px; margin:15px auto; max-width:500px; position:relative; box-shadow:0 5px 20px rgba(0,0,0,.2); opacity:0; transform:translateY(20px); text-align:left; font-size:15px; line-height:1.6;}
.nelson-bubble::before { content:''; position:absolute; top:-15px; left:50%; transform:translateX(-50%); width:0; height:0; border-left:15px solid transparent; border-right:15px solid transparent; border-bottom:15px solid white; }
.nelson-bubble-1 { animation: bubbleAppear .5s ease-out 1s both; }
.nelson-bubble-2 { animation: bubbleAppear .5s ease-out 4s both;}
.nelson-bubble-3 { animation: bubbleAppear .5s ease-out 7s both;}
@keyframes bubbleAppear { from{opacity:0;transform:translateY(20px)scale(.9);} to{opacity:1;transform:translateY(0)scale(1);} }
/* Microphone */
.nelson-mic-container {margin:30px 0; animation:micAppear .5s ease-out 2s both;}
@keyframes micAppear {from{opacity:0;transform:scale(0);}to{opacity:1;transform:scale(1);}}
.nelson-mic { width: 140px; height: 140px; border-radius: 50%; background: rgba(255,255,255,0.2); border:4px solid white; cursor:pointer; transition:all .3s; display:flex; align-items:center; justify-content:center; margin:0 auto; color:white;}
.nelson-mic:hover{background:rgba(255,255,255,0.3);transform:scale(1.05);}
.nelson-mic.listening{background:#ff4444;border-color:#ff6666;animation:micPulse 1.5s infinite;}
@keyframes micPulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
.nelson-mic-hint {margin-top:15px;font-size:14px;opacity:0.9;}
/* Checkbox */
.nelson-checkbox { margin-top:25px; font-size:14px; opacity:0.9; animation:checkboxAppear .5s ease-out 10s both;}
@keyframes checkboxAppear {from{opacity:0;}to{opacity:0.9;}}
.nelson-checkbox label { cursor:pointer;user-select:none; }
/* Blinking widget */
@keyframes blinkWidget{0%,50%,100%{opacity:1;box-shadow:0 8px 30px rgba(102,126,234,0.4);}25%,75%{opacity:0.3;box-shadow:0 8px 50px rgba(255,68,68,0.8);}}
.blink-widget{animation:blinkWidget 1s ease-in-out 5;animation-delay:9s;}
/* Main Assistant Window */
.nelson-assistant {position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:500px;max-width:90%;max-height:80vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:25px;padding:40px 30px;box-shadow:0 20px 60px rgba(0,0,0,0.4);z-index:999998;display:none;color:white;overflow-y:auto;animation:slideUp .3s ease-out;}
@keyframes slideUp {from{transform:translate(-50%,-40%);opacity:0;}to{transform:translate(-50%,-50%);opacity:1;}}
.nelson-assistant-container{position:relative;text-align:center;}
.nelson-assistant-header{display:flex;align-items:center;justify-content:center;gap:15px;margin-bottom:30px;}
.nelson-avatar{font-size:40px;}
.nelson-assistant-header h3{margin:0;font-size:24px;}
.nelson-status{font-size:12px;opacity:0.9;}
.nelson-transcript, .nelson-response {background:rgba(255,255,255,0.15);border-radius:15px;padding:20px;margin:20px 0;min-height:50px;text-align:left;line-height:1.6;}
.nelson-transcript{border-left:4px solid rgba(255,255,255,0.5);}
.nelson-response{border-left:4px solid #4caf50;background:rgba(255,255,255,0.2);}
.nelson-transcript:empty, .nelson-response:empty{display:none;}
.nelson-post-card{background:white;color:#333;border-radius:12px;padding:15px;margin:12px 0;text-align:left;box-shadow:0 4px 15px rgba(0,0,0,0.2);animation:cardAppear .3s;}
@keyframes cardAppear{from{opacity:0;transform:translateY(15px);}to{opacity:1;transform:translateY(0);}}
.nelson-post-title{font-weight:600;font-size:15px;margin-bottom:8px;color:#667eea;}
.nelson-post-date{font-size:12px;color:#999;margin-bottom:8px;}
.nelson-post-excerpt{font-size:13px;color:#666;margin-bottom:12px;line-height:1.4;}
.nelson-post-actions{display:flex;gap:8px;flex-wrap:wrap;}
.nelson-btn{padding:8px 14px;border-radius:8px;text-decoration:none;font-size:12px;font-weight:500;background:#667eea;color:white;border:none;cursor:pointer;transition:all 0.2s;}
.nelson-btn:hover{background:#5568d3;transform:translateY(-2px);}
.nelson-btn-secondary{background:#f0f0f0;color:#333;}
/* Floating Trigger */
.nelson-trigger{position:fixed;bottom:30px;right:30px;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border:none;box-shadow:0 8px 30px rgba(102,126,234,0.4);cursor:pointer;transition: all .3s;z-index:999998;display:flex;align-items:center;justify-content:center;}
.nelson-trigger:hover{transform:scale(1.1);box-shadow:0 12px 40px rgba(102,126,234,0.6);}
.nelson-spinner{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,0.3);border-top-color:white;border-radius:50%;animation:spin 0.8s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
/* Mobile */
@media (max-width:768px){
.nelson-welcome-container{width:95%;}
.nelson-robot-head{width:80px; height:80px;}
.nelson-mic{width:110px;height:110px;}
.nelson-mic svg{width:55px;height:55px;}
.nelson-bubble{font-size:14px;padding:15px 20px;}
.nelson-assistant{width:95%;max-height:85vh;}
.nelson-trigger{bottom:20px;right:20px;width:60px;height:60px;}
}
/* Scrollbar */
.nelson-assistant::-webkit-scrollbar{width:6px;}
.nelson-assistant::-webkit-scrollbar-track{background:rgba(255,255,255,0.1);}
.nelson-assistant::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.3);border-radius:3px;}
